MainMenu:

<MainMenu>:
    cols:1
    rows:2
    TabbedPanel:
        tab_pos: 'top_mid'
        do_default_tab: False
# ---------------------------expediteur-TAB-------------------------------------
        TabbedPanelItem:
            text: 'Expéditeur'
            BoxLayout:
                canvas.before:
                    Color:
                        rgb:0.8,0.8,0.8
                    Rectangle:
                        pos:self.pos
                        size:self.size
                padding: ('10dp', '10dp', '10dp', '10dp')
                orientation: 'vertical'
                BoxLayout:
                    orientation: 'horizontal'
                    BoxLayout:
                        orientation: 'vertical'
                        Label:
                            size_hint: 1, None
                            size: 0, 30 
                            text: 'Nom'
                            color: 0,0,0
                        TextInput:
                            size_hint: 1, None
                            size: 0, 30
                            multiline: False
                            focus: True
                            id: e_nom
                            text: str(root.expediteur.nom)
                    BoxLayout:
                        orientation: 'vertical'
                        Label:
                            size_hint: 1, None
                            size: 0, 30 
                            text: 'Prénom'
                            color: 0,0,0
                        TextInput:
                            size_hint: 1, None
                            size: 0, 30
                            multiline: False
                            focus: True
                            id: e_prenom
                            text: root.expediteur.prenom
                Label:
                    text: 'Adresse'
                    color: 0,0,0
                TextInput:
                    size_hint: 1, None
                    size: 0, 90
                    cols: 3
                    id: e_adresse
                    text: root.expediteur.adresse
                BoxLayout:
                    orientation: 'horizontal'
                    BoxLayout:
                        orientation: 'vertical'
                        Label:
                            size_hint: 1, None
                            size: 0, 30 
                            text: 'Code Postal'
                            color: 0,0,0
                        TextInput:
                            size_hint: 1, None
                            size: 0, 30
                            multiline: False
                            id: e_cp
                            text: root.expediteur.cp
                    BoxLayout:
                        orientation: 'vertical'
                        Label:
                            size_hint: 1, None
                            size: 0, 30 
                            text: 'Ville'
                            color: 0,0,0
                        TextInput:
                            size_hint: 1, None
                            size: 0, 30
                            multiline: False
                            id: e_ville
                            text: root.expediteur.ville
                BoxLayout:
                    orientation: 'horizontal'
                    BoxLayout:
                        orientation: 'vertical'
                        Label:
                            size_hint: 1, None
                            size: 0, 30 
                            text: 'Numéro de téléphone'
                            color: 0,0,0
                        TextInput:
                            size_hint: 1, None
                            size: 0, 30
                            multiline: False
                            id: e_tel
                            text: root.expediteur.tel
                    BoxLayout:
                        orientation: 'vertical'
                        Label:
                            size_hint: 1, None
                            size: 0, 30 
                            text: 'Email'
                            color: 0,0,0
                        TextInput:
                            size_hint: 1, None
                            size: 0, 30
                            multiline: False
                            id: e_mail
                            text: root.expediteur.mail
# ---------------------------Destinataire-TAB-------------------------------------
        TabbedPanelItem:
            text: 'Destinataire'
            BoxLayout:
                padding: ('10dp', '10dp', '10dp', '10dp')
                orientation: 'vertical'
                canvas.before:
                    Color:
                        rgb:0.8,0.8,0.8
                    Rectangle:
                        pos:self.pos
                        size:self.size
                BoxLayout:
                    orientation: 'horizontal'
                    BoxLayout:
                        orientation: 'vertical'
                        Label:
                            size_hint: 1, None
                            size: 0, 30 
                            text: 'Nom'
                            color: 0,0,0
                        TextInput:
                            size_hint: 1, None
                            size: 0, 30
                            multiline: False
                            id: d_nom
                            text: root.destinataire.nom
                    BoxLayout:
                        orientation: 'vertical'
                        Label:
                            size_hint: 1, None
                            size: 0, 30 
                            text: 'Prénom'
                            color: 0,0,0
                        TextInput:
                            size_hint: 1, None
                            size: 0, 30
                            multiline: False
                            id: d_prenom
                            text:root.destinataire.prenom
                Label:
                    text: 'Adresse'
                    color: 0,0,0
                TextInput:
                    size_hint: 1, None
                    size: 0, 90
                    cols: 3
                    id: d_adresse
                    text: root.destinataire.adresse
                BoxLayout:
                    orientation: 'horizontal'
                    BoxLayout:
                        orientation: 'vertical'
                        Label:
                            size_hint: 1, None
                            size: 0, 30 
                            text: 'Code Postal'
                            color: 0,0,0
                        TextInput:
                            size_hint: 1, None
                            size: 0, 30
                            multiline: False
                            id: d_cp
                            text: root.destinataire.cp
                    BoxLayout:
                        orientation: 'vertical'
                        Label:
                            size_hint: 1, None
                            size: 0, 30 
                            text: 'Ville'
                            color: 0,0,0
                        TextInput:
                            size_hint: 1, None
                            size: 0, 30
                            multiline: False
                            id: d_ville
                            text: root.destinataire.ville
# ---------------------------Référence-TAB---------------------------------------
        TabbedPanelItem:
            disabled: not pro_mode.active
            text: 'Référence'
            
# ---------------------------Corps-TAB-------------------------------------------
        TabbedPanelItem:
            text: 'Corps'
            BoxLayout:
                padding: ('10dp', '10dp', '10dp', '10dp')
                orientation: 'vertical'
                canvas.before:
                    Color:
                        rgb:0.8,0.8,0.8
                    Rectangle:
                        pos:self.pos
                        size:self.size
                Label:
                    size_hint: 1, None
                    size: 0, 53
                    text: 'Objet'
                    color: 0,0,0
                TextInput:
                    size_hint: 1, None
                    size: 0, 30
                    multiline: False
                    id: m_obj
                    text: ''
                Label:
                    size_hint: 1, None
                    size: 0, 30 
                    text: 'Message'
                    color: 0,0,0
                TextInput:
                    # size_hint: 1 , None
                    # size: 0 , root.height-200
                    id: msg
                    text:''
# ---------------------------Action-BAR------------------------------------------
    BoxLayout:
        orientation: 'horizontal'
        size_hint: 1, None
        size: 0 , 40
        Button:
            size_hint: 1, None
            size: 0 , 40
            text:'Réinitialiser'
            on_press: e_nom.text = ''; e_prenom.text = ''; e_adresse.text = ''; e_cp.text = ''; e_ville.text = ''; e_tel.text = ''; e_mail.text = ''; d_nom.text = ''; d_prenom.text = ''; d_adresse.text = ''; d_cp.text = ''; d_ville.text = ''; msg.text = ''; obj.text = ''
        Button:
            size_hint: 1, None
            size: 0 , 40
            text:'Générer'
            on_press: root.create_letter()
        Label:
            text: 'Mode Pro'
            align: 'right'
            color: 1,1,1
        Switch:
            id: pro_mode

